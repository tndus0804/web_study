<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<script>
		let idInput;
		let pwInput;
		let nameInput;
		window.onload = function() {
			idInput = document.getElementById("idInput");
			pwInput = document.getElementById("pwInput");
			nameInput = document.getElementById("nameInput");
			
			//console.log(idLength)
		}
		
		function submitFunc() {
			let idLength = idInput.value.length;
			let pwLength = pwInput.value.length;
			let nameValue = nameInput.value;
			
			if(!(idLength >= 3 && idLength <= 10)) {
				alert("id를 3~10자 사이로 입력해 주세요");
				return false;
			}
			
			if(!(pwLength >= 3 && pwLength <= 10)) {
				alert(`비밀번호를 3~10자 사이로 입력해주세요. 현재 ${pwLength}자`);
				return false;
			}
			
			if(nameValue == "" || nameValue == null || nameValue == undefined) {
				alert("이름을 입력해주세요!");
				return false;
			}
			return true;
		}
	</script>
</head>
<body>
	회원가입
	<form th:action="@{join}" onsubmit="return submitFunc()" method="post">
		<table>
			<tr>
				<td>ID</td>
				<td><input type="text" placeholder="3~10자 사이" name="id" id="idInput"></td>
			</tr>
			<tr>
				<td>PW</td>
				<td><input type="password" placeholder="3~10자 사이" name="pw" id="pwInput"></td>
			</tr>
			<tr>
				<td>NAME</td>
				<td><input type="text" placeholder="null 안됨" name="name" id="nameInput"></td>
			</tr>
			<tr>
				<td>PHONE</td>
				<td><input type="text" name="phone" ></td>
			</tr>
			<tr>
				<td>ADDRESS</td>
				<td><input type="text" name="address" ></td>
			</tr>
			<tr>
				<td style="text-align:center" colspan="2"><input type="submit" value="가입"></td>
			</tr>
		</table>
	</form>
</body>
</html>